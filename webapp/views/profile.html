<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DevBook - Meu Perfil</title>
  <link rel="stylesheet" href="/assets/css/bootstrap.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
</head>
<body>
  {{ template "header"}}

  <div class="container-fluid">
    <div class="row mt-4">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Meu Perfil</h5>
            <h6 class="card-subtitle mb-2 text-muted">
              {{ .Name }} - {{ .Nick }} -  Membro desde: {{ .CreatedAt.Format "02/01/2006" }}
            </h6>

            <p class="card-text">
              <a href="#" data-bs-toggle="modal" data-bs-target="#modal-followers">Seguidores {{ len .Followers }}</a>
            </p>
            <p class="card-text">
              <a href="#" data-bs-toggle="modal" data-bs-target="#modal-following">Seguindo {{ len .Following }}</a>
            </p>

            <div class="row">
              <div class="col-12">
                <a href="/edit-user" class="card-link" style="text-decoration: none;">
                  <button class="btn btn-info">Editar Usuário</button>
                </a>

                <a href="/update-password" class="card-link" style="text-decoration: none;">
                  <button class="btn btn-info">Ataulizar Senha</button>
                </a>
              </div>
            </div>

            <div class="row mt-4">
              <div class="col-12">
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title">Minhas Publicações</h5>
                    <p class="card-text">
                      {{ range .Posts }}
                        {{ template "post-with-permission" . }}
                      {{ else }}
                        <p class="text-muted text-center">Nenhuma publicação por enquanto...</p>
                      {{ end }}
                    </p>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {{ template "footer"}}
  {{ template "modal-followers" . }}
  {{ template "modal-following" . }}
  {{ template "scripts"}}
  <script src="/assets/javascript/posts.js"></script>
</body>
</html>
